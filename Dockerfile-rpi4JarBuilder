# Use official Maven + JDK 21 image for x86_64 (works on Windows Docker)
FROM maven:3.9.6-amazoncorretto-21

WORKDIR /opt/cosmic

# Copy pom and source
COPY pom.xml ./pom.xml
COPY src ./src

# Build JAR without running tests
RUN mvn clean package -Dmaven.test.skip